<%= content_for :lecturer do %>
  <ul class="sidebar-list">
    <li>
      <%= link_to edit_owner_lecturer_path(@lecturer) do %>
        <i class="fa-solid fa-chalkboard-user"></i>Information
      <% end %>
    </li>
  </ul>
<% end %>

<div class="container">
  <div class="row">
    <div class="w-full p-10 mx-auto mt-28 lg:w-1/2">
      <div class="">
          <h1>編輯講師</h1>
      </div>
      <div>
        <%= form_with(model: @lecturer, url: owner_lecturer_path(@lecturer)) do |form| %>
          <div class="field tt w-40 h-40 mx-auto rounded-full overflow-hidden" data-controller="avatar-label">
            <%= form.label :mugshot, class: "avatar-label relative block w-40 h-40 rounded-full overflow-hidden cursor-pointer" do %>
              <div class="absolute inset-0 text-white w-40 h-40 mx-auto">
                <% if @lecturer.mugshot.attached? %>
                  <%= image_tag url_for(@lecturer.mugshot), class: "w-40 h-40 object-cover", data: { avatar_label_target: "preview" } %>
                <% else %>
                  <div class="flex justify-center items-center bg-gray-300 w-40 h-40 rounded-full overflow-hidden" data-avatar-label-target="fakeImg">
                    <i class="fa-solid fa-user text-6xl"></i>
                  </div>
                  <img src="" class="w-40 h-40 object-cover hidden" data-avatar-label-target="preview">
                <% end %>
              </div>
            <% end %>
            <%= form.file_field :mugshot, class: "hidden", data: { action: "change->avatar-label#loadImg", avatar_label_target: "fileInput" } %>
          </div>
          <div>
            <%= form.label :name %>
            <%= form.text_field :name %>
          </div>
          <div>
            <%= form.label :nickname %>
            <%= form.text_field :nickname %>
          </div>
          
          <div>
            <%= form.label :content %>
            <%= form.text_area :content, data: { controller: "markdown-editor" }  %>
          </div>
          
          <%= form.submit %>
        <% end %>
      </div>
    </div>
  </div>
</div>